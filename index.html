<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <script src="https://docs.getgrist.com/grist-static/grist-plugin-api.js"></script>
  <script src="https://unpkg.com/pizzip@3/dist/pizzip.min.js"></script>
  <script src="https://unpkg.com/docxtemplater@3.39.0/build/docxtemplater.js"></script>
  <script src="https://unpkg.com/file-saver@2.0.5/dist/FileSaver.min.js"></script>
</head>
<body>
  <button id="btn">Télécharger le DOCX</button>

  <script>
    const grist = window.grist;   // ✅ l’API existe
    grist.ready();

    grist.onRecord(rec => console.log('Sélection :', rec));

    document.getElementById('btn').addEventListener('click', () =>
      alert('Le widget fonctionne, l’API est bien chargée !'));
  </script>
</body>
</html>
